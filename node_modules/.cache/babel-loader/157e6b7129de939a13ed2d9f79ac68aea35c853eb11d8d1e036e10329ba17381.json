{"ast":null,"code":"var _jsxFileName = \"/home/tec502/pblredes3/src/components/EventList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getEvents, placeBet } from '../api'; // Assumindo que as funções estejam exportadas de api.ts\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EventList = () => {\n  _s();\n  const [events, setEvents] = useState([]);\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  const [betChoice, setBetChoice] = useState('');\n  const [betAmount, setBetAmount] = useState(0);\n  const [userBalance, setUserBalance] = useState(100); // Supondo que o saldo inicial seja 100\n\n  useEffect(() => {\n    const fetchEvents = async () => {\n      try {\n        const eventsData = await getEvents();\n        setEvents(eventsData);\n      } catch (error) {\n        console.error('Erro ao carregar os eventos', error);\n      }\n    };\n    fetchEvents();\n  }, []);\n  const handlePlaceBet = async eventId => {\n    if (betAmount <= 0 || betAmount > userBalance) {\n      alert('Quantia inválida');\n      return;\n    }\n    try {\n      const betData = {\n        event_id: eventId,\n        choice: betChoice,\n        amount: betAmount,\n        user_id: 1 // Exemplo, use o ID do usuário real aqui\n      };\n      await placeBet(betData);\n      setUserBalance(userBalance - betAmount); // Atualiza o saldo após a aposta\n      alert('Aposta realizada com sucesso!');\n    } catch (error) {\n      console.error('Erro ao realizar aposta:', error);\n      alert('Erro ao realizar a aposta. Tente novamente.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Lista de Eventos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), events.map(event => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: '1px solid #ccc',\n        margin: '10px',\n        padding: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: event.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: event.side_a\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), \" vs \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: event.side_b\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 48\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Odds:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), \" \", event.odds_a, \" - \", event.odds_b]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), event.status && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Apostar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => setBetChoice(e.target.value),\n          value: betChoice,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Escolha um lado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: event.side_a,\n            children: event.side_a\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: event.side_b,\n            children: event.side_b\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"Quantia da aposta\",\n          value: betAmount,\n          onChange: e => setBetAmount(parseFloat(e.target.value)),\n          min: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handlePlaceBet(event.id),\n          children: \"Apostar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this)]\n    }, event.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(EventList, \"fuT/PfEA5Lqqu4Lch/n6yWxa5Q0=\");\n_c = EventList;\nexport default EventList;\nvar _c;\n$RefreshReg$(_c, \"EventList\");","map":{"version":3,"names":["React","useState","useEffect","getEvents","placeBet","jsxDEV","_jsxDEV","EventList","_s","events","setEvents","selectedEvent","setSelectedEvent","betChoice","setBetChoice","betAmount","setBetAmount","userBalance","setUserBalance","fetchEvents","eventsData","error","console","handlePlaceBet","eventId","alert","betData","event_id","choice","amount","user_id","children","fileName","_jsxFileName","lineNumber","columnNumber","map","event","style","border","margin","padding","description","side_a","side_b","odds_a","odds_b","status","onChange","e","target","value","type","placeholder","parseFloat","min","onClick","id","_c","$RefreshReg$"],"sources":["/home/tec502/pblredes3/src/components/EventList.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getEvents, placeBet } from '../api'; // Assumindo que as funções estejam exportadas de api.ts\n\ninterface Event {\n  id: number;\n  description: string;\n  side_a: string;\n  side_b: string;\n  odds_a: number;\n  odds_b: number;\n  status: boolean;\n  result: string;\n}\n\nconst EventList: React.FC = () => {\n  const [events, setEvents] = useState<Event[]>([]);\n  const [selectedEvent, setSelectedEvent] = useState<number | null>(null);\n  const [betChoice, setBetChoice] = useState<string>('');\n  const [betAmount, setBetAmount] = useState<number>(0);\n  const [userBalance, setUserBalance] = useState<number>(100); // Supondo que o saldo inicial seja 100\n\n  useEffect(() => {\n    const fetchEvents = async () => {\n      try {\n        const eventsData = await getEvents();\n        setEvents(eventsData);\n      } catch (error) {\n        console.error('Erro ao carregar os eventos', error);\n      }\n    };\n    fetchEvents();\n  }, []);\n\n  const handlePlaceBet = async (eventId: number) => {\n    if (betAmount <= 0 || betAmount > userBalance) {\n      alert('Quantia inválida');\n      return;\n    }\n\n    try {\n      const betData = {\n        event_id: eventId,\n        choice: betChoice,\n        amount: betAmount,\n        user_id: 1, // Exemplo, use o ID do usuário real aqui\n      };\n      await placeBet(betData);\n      setUserBalance(userBalance - betAmount); // Atualiza o saldo após a aposta\n      alert('Aposta realizada com sucesso!');\n    } catch (error) {\n      console.error('Erro ao realizar aposta:', error);\n      alert('Erro ao realizar a aposta. Tente novamente.');\n    }\n  };\n\n  return (\n    <div>\n      <h2>Lista de Eventos</h2>\n      {events.map((event) => (\n        <div key={event.id} style={{ border: '1px solid #ccc', margin: '10px', padding: '10px' }}>\n          <h3>{event.description}</h3>\n          <p>\n            <strong>{event.side_a}</strong> vs <strong>{event.side_b}</strong>\n          </p>\n          <p>\n            <strong>Odds:</strong> {event.odds_a} - {event.odds_b}\n          </p>\n\n          {/* Formulário de aposta inline */}\n          {event.status && (\n            <div>\n              <h4>Apostar</h4>\n              <select onChange={(e) => setBetChoice(e.target.value)} value={betChoice}>\n                <option value=\"\">Escolha um lado</option>\n                <option value={event.side_a}>{event.side_a}</option>\n                <option value={event.side_b}>{event.side_b}</option>\n              </select>\n              <input\n                type=\"number\"\n                placeholder=\"Quantia da aposta\"\n                value={betAmount}\n                onChange={(e) => setBetAmount(parseFloat(e.target.value))}\n                min=\"1\"\n              />\n              <button onClick={() => handlePlaceBet(event.id)}>Apostar</button>\n            </div>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default EventList;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,QAAQ,QAAQ,QAAQ,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAa9C,MAAMC,SAAmB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGT,QAAQ,CAAU,EAAE,CAAC;EACjD,MAAM,CAACU,aAAa,EAAEC,gBAAgB,CAAC,GAAGX,QAAQ,CAAgB,IAAI,CAAC;EACvE,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAS,EAAE,CAAC;EACtD,MAAM,CAACc,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAS,CAAC,CAAC;EACrD,MAAM,CAACgB,WAAW,EAAEC,cAAc,CAAC,GAAGjB,QAAQ,CAAS,GAAG,CAAC,CAAC,CAAC;;EAE7DC,SAAS,CAAC,MAAM;IACd,MAAMiB,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACF,MAAMC,UAAU,GAAG,MAAMjB,SAAS,CAAC,CAAC;QACpCO,SAAS,CAACU,UAAU,CAAC;MACvB,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACrD;IACF,CAAC;IACDF,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMI,cAAc,GAAG,MAAOC,OAAe,IAAK;IAChD,IAAIT,SAAS,IAAI,CAAC,IAAIA,SAAS,GAAGE,WAAW,EAAE;MAC7CQ,KAAK,CAAC,kBAAkB,CAAC;MACzB;IACF;IAEA,IAAI;MACF,MAAMC,OAAO,GAAG;QACdC,QAAQ,EAAEH,OAAO;QACjBI,MAAM,EAAEf,SAAS;QACjBgB,MAAM,EAAEd,SAAS;QACjBe,OAAO,EAAE,CAAC,CAAE;MACd,CAAC;MACD,MAAM1B,QAAQ,CAACsB,OAAO,CAAC;MACvBR,cAAc,CAACD,WAAW,GAAGF,SAAS,CAAC,CAAC,CAAC;MACzCU,KAAK,CAAC,+BAA+B,CAAC;IACxC,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDI,KAAK,CAAC,6CAA6C,CAAC;IACtD;EACF,CAAC;EAED,oBACEnB,OAAA;IAAAyB,QAAA,gBACEzB,OAAA;MAAAyB,QAAA,EAAI;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACxB1B,MAAM,CAAC2B,GAAG,CAAEC,KAAK,iBAChB/B,OAAA;MAAoBgC,KAAK,EAAE;QAAEC,MAAM,EAAE,gBAAgB;QAAEC,MAAM,EAAE,MAAM;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAAV,QAAA,gBACvFzB,OAAA;QAAAyB,QAAA,EAAKM,KAAK,CAACK;MAAW;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC5B7B,OAAA;QAAAyB,QAAA,gBACEzB,OAAA;UAAAyB,QAAA,EAASM,KAAK,CAACM;QAAM;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAAC,QAAI,eAAA7B,OAAA;UAAAyB,QAAA,EAASM,KAAK,CAACO;QAAM;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjE,CAAC,eACJ7B,OAAA;QAAAyB,QAAA,gBACEzB,OAAA;UAAAyB,QAAA,EAAQ;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,KAAC,EAACE,KAAK,CAACQ,MAAM,EAAC,KAAG,EAACR,KAAK,CAACS,MAAM;MAAA;QAAAd,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpD,CAAC,EAGHE,KAAK,CAACU,MAAM,iBACXzC,OAAA;QAAAyB,QAAA,gBACEzB,OAAA;UAAAyB,QAAA,EAAI;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChB7B,OAAA;UAAQ0C,QAAQ,EAAGC,CAAC,IAAKnC,YAAY,CAACmC,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE;UAACA,KAAK,EAAEtC,SAAU;UAAAkB,QAAA,gBACtEzB,OAAA;YAAQ6C,KAAK,EAAC,EAAE;YAAApB,QAAA,EAAC;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACzC7B,OAAA;YAAQ6C,KAAK,EAAEd,KAAK,CAACM,MAAO;YAAAZ,QAAA,EAAEM,KAAK,CAACM;UAAM;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eACpD7B,OAAA;YAAQ6C,KAAK,EAAEd,KAAK,CAACO,MAAO;YAAAb,QAAA,EAAEM,KAAK,CAACO;UAAM;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9C,CAAC,eACT7B,OAAA;UACE8C,IAAI,EAAC,QAAQ;UACbC,WAAW,EAAC,mBAAmB;UAC/BF,KAAK,EAAEpC,SAAU;UACjBiC,QAAQ,EAAGC,CAAC,IAAKjC,YAAY,CAACsC,UAAU,CAACL,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAE;UAC1DI,GAAG,EAAC;QAAG;UAAAvB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC,eACF7B,OAAA;UAAQkD,OAAO,EAAEA,CAAA,KAAMjC,cAAc,CAACc,KAAK,CAACoB,EAAE,CAAE;UAAA1B,QAAA,EAAC;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9D,CACN;IAAA,GA3BOE,KAAK,CAACoB,EAAE;MAAAzB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OA4Bb,CACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAAC3B,EAAA,CA7EID,SAAmB;AAAAmD,EAAA,GAAnBnD,SAAmB;AA+EzB,eAAeA,SAAS;AAAC,IAAAmD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}